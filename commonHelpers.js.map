{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["const apiKey = '43518191-3e4362bb1fc47484118bdfa22';\n\nexport async function searchImages(query) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error('Error', error);\n    throw error;\n  }\n}\n","export function addImageCard(image) {\n  const galleryList = document.querySelector('ul.gallery');\n\n  const galleryItem = document.createElement('li');\n  galleryItem.classList.add('gallery-item');\n\n  const galleryLink = document.createElement('a');\n  galleryLink.classList.add('gallery-link');\n  galleryLink.href = image.largeImageURL;\n\n  const galleryImage = document.createElement('img');\n  galleryImage.src = image.webformatURL;\n  galleryImage.alt = image.tags;\n\n  const imageInfo = document.createElement('div');\n  imageInfo.classList.add('image-info');\n  imageInfo.innerHTML = `\n      <p>Likes: ${image.likes}</p>\n      <p>Views: ${image.views}</p>\n      <p>Comments: ${image.comments}</p>\n      <p>Downloads: ${image.downloads}</p>\n  `;\n\n  galleryLink.appendChild(galleryImage);\n  galleryLink.appendChild(imageInfo);\n  galleryItem.appendChild(galleryLink);\n  galleryList.appendChild(galleryItem);\n}\n","import { searchImages } from './js/pixabay-api.js';\nimport { addImageCard } from './js/render-function.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst loader = document.querySelector('.loader');\nconst form = document.getElementById('searchForm');\nconst galleryElement = document.querySelector('.gallery');\n\nlet lightbox;\n\nfunction toggleLoader(display) {\n  loader.style.display = display;\n}\n\nloader.style.display = 'none';\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const input = document.getElementById('searchInput').value.trim();\n\n  if (input === '') {\n    iziToast.warning({\n      title: 'Caution',\n      message: 'Please enter a search query.',\n    });\n    return;\n  }\n\n  toggleLoader('block');\n\n  try {\n    const images = await searchImages(input);\n    galleryElement.innerHTML = '';\n\n    if (images.length === 0) {\n      iziToast.warning({\n        title: 'Caution',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    } else {\n      images.forEach(image => {\n        addImageCard(image);\n      });\n\n      if (!lightbox) {\n        const lightbox = new SimpleLightbox('.gallery-link', {\n          captions: true,\n          captionsData: 'alt',\n          captionDelay: 250,\n        });\n      } else {\n        lightbox.refresh();\n      }\n    }\n  } catch (error) {\n    console.error('Error', error);\n  } finally {\n    toggleLoader('none');\n  }\n});\n//\n\n//import './js/pixabay-api';\n\n//// Описаний у документації\n//import iziToast from 'izitoast';\n//// Додатковий імпорт стилів\n//import 'izitoast/dist/css/iziToast.min.css';\n\n//import SimpleLightbox from 'simplelightbox';\n//// Додатковий імпорт стилів\n//import 'simplelightbox/dist/simple-lightbox.min.css';\n\n//const loader = document.querySelector('.loader');\n//loader.style.display = 'block';\n\n//const form = document\n//  .getElementById('searchForm')\n//  .addEventListener('submit', e => {\n//    e.preventDefault();\n\n//    const input = document.getElementById('searchInput').value.trim();\n\n//    if (input === '') {\n//      iziToast.warning({\n//        title: 'Caution',\n//        message: 'Please enter a search query.',\n//      });\n//      return;\n//    }\n\n//    const apiKey = '43518191-3e4362bb1fc47484118bdfa22';\n//    const url =\n//      'https://pixabay.com/api/?key=' +\n//      apiKey +\n//      '&q=' +\n//      encodeURIComponent(input) +\n//      '&image_type=photo&orientation=horizontal&safesearch=true';\n\n//    const loader = document.querySelector('.loader');\n//    loader.style.display = 'block';\n\n//    fetch(url)\n//      .then(response => response.json())\n//      .then(data => {\n//        loader.style.display = 'none';\n\n//        if (data.hits.length === 0) {\n//          iziToast.warning({\n//            title: 'Caution',\n//            message:\n//              'Sorry, there are no images matching your search query. Please try again!',\n//          });\n//        } else {\n//          const galleryElement = document.querySelector('.gallery');\n//          galleryElement.innerHTML = '';\n\n//          data.hits.forEach(hit => {\n//            addImageCard(hit);\n//          });\n\n//          lightbox.refresh();\n//        }\n//      })\n//      .catch(error => {\n//        console.error('Error', error);\n//      });\n//  });\n\n//function addImageCard(image) {\n//  const galleryList = document.querySelector('ul.gallery');\n\n//  const galleryItem = document.createElement('li');\n//  galleryItem.classList.add('gallery-item');\n\n//  const galleryLink = document.createElement('a');\n//  galleryLink.classList.add('gallery-link');\n//  galleryLink.href = image.largeImageURL;\n\n//  const galleryImage = document.createElement('img');\n//  galleryImage.src = image.webformatURL;\n//  galleryImage.alt = image.tags;\n\n//  const imageInfo = document.createElement('div');\n//  imageInfo.classList.add('image-info');\n//  imageInfo.innerHTML = `\n//      <p>Likes: ${image.likes}</p>\n//      <p>Views: ${image.views}</p>\n//      <p>Comments: ${image.comments}</p>\n//      <p>Downloads: ${image.downloads}</p>\n//  `;\n\n//  galleryLink.appendChild(galleryImage);\n//  galleryLink.appendChild(imageInfo);\n//  galleryItem.appendChild(galleryLink);\n//  galleryList.appendChild(galleryItem);\n//}\n\n//const lightbox = new SimpleLightbox('.gallery-link', {\n//  captions: true,\n//  captionsData: 'alt',\n//  captionDelay: 250,\n//});\n"],"names":["apiKey","searchImages","query","url","error","addImageCard","image","galleryList","galleryItem","galleryLink","galleryImage","imageInfo","loader","form","galleryElement","lightbox","toggleLoader","display","e","input","iziToast","images","SimpleLightbox"],"mappings":"wvBAAA,MAAMA,EAAS,qCAER,eAAeC,EAAaC,EAAO,CACxC,MAAMC,EAAM,gCAAgCH,CAAM,MAAM,mBACtDE,CACD,CAAA,2DAED,GAAI,CAGF,OADa,MADI,MAAM,MAAMC,CAAG,GACJ,QAChB,IACb,OAAQC,EAAO,CACd,cAAQ,MAAM,QAASA,CAAK,EACtBA,CACP,CACH,CCfO,SAASC,EAAaC,EAAO,CAClC,MAAMC,EAAc,SAAS,cAAc,YAAY,EAEjDC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAU,IAAI,cAAc,EAExC,MAAMC,EAAc,SAAS,cAAc,GAAG,EAC9CA,EAAY,UAAU,IAAI,cAAc,EACxCA,EAAY,KAAOH,EAAM,cAEzB,MAAMI,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,IAAMJ,EAAM,aACzBI,EAAa,IAAMJ,EAAM,KAEzB,MAAMK,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAU,IAAI,YAAY,EACpCA,EAAU,UAAY;AAAA,kBACNL,EAAM,KAAK;AAAA,kBACXA,EAAM,KAAK;AAAA,qBACRA,EAAM,QAAQ;AAAA,sBACbA,EAAM,SAAS;AAAA,IAGnCG,EAAY,YAAYC,CAAY,EACpCD,EAAY,YAAYE,CAAS,EACjCH,EAAY,YAAYC,CAAW,EACnCF,EAAY,YAAYC,CAAW,CACrC,CCpBA,MAAMI,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAO,SAAS,eAAe,YAAY,EAC3CC,EAAiB,SAAS,cAAc,UAAU,EAExD,IAAIC,EAEJ,SAASC,EAAaC,EAAS,CAC7BL,EAAO,MAAM,QAAUK,CACzB,CAEAL,EAAO,MAAM,QAAU,OAEvBC,EAAK,iBAAiB,SAAU,MAAMK,GAAK,CACzCA,EAAE,eAAc,EAEhB,MAAMC,EAAQ,SAAS,eAAe,aAAa,EAAE,MAAM,OAE3D,GAAIA,IAAU,GAAI,CAChBC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDJ,EAAa,OAAO,EAEpB,GAAI,CACF,MAAMK,EAAS,MAAMpB,EAAakB,CAAK,EAGvC,GAFAL,EAAe,UAAY,GAEvBO,EAAO,SAAW,EACpBD,EAAS,QAAQ,CACf,MAAO,UACP,QACE,0EACV,CAAO,UAEDC,EAAO,QAAQf,GAAS,CACtBD,EAAaC,CAAK,CAC1B,CAAO,EAEG,CAACS,EAAU,CACb,MAAMA,EAAW,IAAIO,EAAe,gBAAiB,CACnD,SAAU,GACV,aAAc,MACd,aAAc,GACxB,CAAS,CAGF,CAEJ,OAAQlB,EAAO,CACd,QAAQ,MAAM,QAASA,CAAK,CAChC,QAAY,CACRY,EAAa,MAAM,CACpB,CACH,CAAC"}