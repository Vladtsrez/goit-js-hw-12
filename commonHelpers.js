import{a as L,i as y,S as w}from"./assets/vendor-09d7c26e.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();const b="43518191-3e4362bb1fc47484118bdfa22",E=15;async function C(t,n){const s=`https://pixabay.com/api/?key=${b}&q=${encodeURIComponent(t)}&image_type=photo&orientation=horizontal&safesearch=true&page=${n}&per_page=${E}`;try{const o=await L.get(s),{hits:e,totalHits:r}=o.data;return{hits:e,total:r}}catch(o){throw console.error("Error",o),o}}function S(t){const n=document.querySelector("ul.gallery"),s=document.createElement("li");s.classList.add("gallery-item");const o=document.createElement("a");o.classList.add("gallery-link"),o.href=t.largeImageURL;const e=document.createElement("img");e.src=t.webformatURL,e.alt=t.tags;const r=document.createElement("div");r.classList.add("image-info"),r.innerHTML=`
      <p>Likes: ${t.likes}</p>
      <p>Views: ${t.views}</p>
      <p>Comments: ${t.comments}</p>
      <p>Downloads: ${t.downloads}</p>
  `,o.appendChild(e),o.appendChild(r),s.appendChild(o),n.appendChild(s)}const g=document.querySelector(".loader"),I=document.getElementById("searchForm"),c=document.querySelector(".gallery"),a=document.querySelector(".load-more"),q="We're sorry, but you've reached the end of search results.";let l=1,m="",f=0,d=0,u;g.style.display="none";a.style.display="none";I.addEventListener("submit",async t=>{if(t.preventDefault(),m=document.getElementById("searchInput").value.trim(),m===""){y.warning({title:"Caution",message:"Please enter a search query."});return}l=1,p(!0),await h()});a.addEventListener("click",async()=>{l++,p(!0),await h(),v()});async function h(){try{const{hits:t,total:n}=await C(m,l);t.length===0?(y.warning({title:"Caution",message:"Sorry, there are no more images matching your search query."}),c.innerHTML="",a.style.display="none"):(l===1&&(c.innerHTML="",f=n,a.style.display="none"),t.forEach(s=>{S(s)}),c.querySelectorAll(".gallery-item").length<f?a.style.display="block":(a.style.display="none",y.info({message:q})),u?u.refresh():u=new w(".gallery-link",{captions:!0,captionsData:"alt",captionDelay:250}))}catch(t){console.error("Error",t)}finally{p(!1)}}function p(t){g.style.display=t?"block":"none"}function v(){l>1&&(d===0&&(d=document.querySelector(".gallery-item").getBoundingClientRect().height),window.scrollBy({top:d*3,behavior:"smooth"}))}
//# sourceMappingURL=commonHelpers.js.map
